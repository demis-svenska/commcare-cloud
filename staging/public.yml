SITE_HOST: 'staging.commcarehq.org'
J2ME_SITE_HOST: 'j2mestaging.commcarehq.org'

riak_backend: "leveldb"
riak_ring_size: 64

primary_ssl_env: "staging"

fake_ssl_cert: no

DATADOG_ENABLED: False
elasticsearch_endpoint: '{{ groups.elasticsearch.0 }}'
elasticsearch_cluster_name: 'staginges'

# Nginx only accepts on cert, so cat the site cert and chain:
# $ cat commcarehq.org.crt hq_thawtecabundle.crt > commcarehq.org.combined.crt
nginx_combined_cert_value: "{{ ssl_secrets.certs.commcarehq_org }}"
nginx_key_value: "{{ ssl_secrets.private_keys.commcarehq_org }}"

# commtrack.org
commtrack_nginx_combined_cert_value: "{{ ssl_secrets.certs.commtrack_org }}"
commtrack_key_value: "{{ ssl_secrets.private_keys.commtrack_org }}"

supervisor_http_enabled: True

keystore_file: '../environments/{{ deploy_env }}/DimagiKeyStore.vault'

backup_blobdb: False
backup_postgres: plain
backup_es: False
postgres_s3: False

aws_region: 'us-east-1'

postgresql_version: '9.4'
postgresql_max_connections: 20
pgbouncer_max_connections: 100
pgbouncer_default_pool: 15
pgbouncer_reserve_pool: 4
pgbouncer_pool_timeout: 2
pgbouncer_pool_mode: transaction

formplayer_archive_time_spec: '10m'

KSPLICE_ACTIVE: yes

AMQP_HOST: "{{ groups.rabbitmq.0 }}"
AMQP_NAME: commcarehq

ufw_private_interface: eth1

etc_hosts_lines: []
etc_hosts_lines_removed: []


couch_dbs:
  default:
    host: commcarehq.cloudant.com
    port: 443
    name: staging_commcarehq
    username: "{{ localsettings_private.COUCH_USERNAME }}"
    password: "{{ localsettings_private.COUCH_PASSWORD }}"
    is_https: True

localsettings:
  ALLOWED_HOSTS:
    - staging.commcarehq.org
    - j2mestaging.commcarehq.org
    - localhost
    - 127.0.0.1
    - testserver
  ANALYTICS_DEBUG: True
  ANALYTICS_LOG_LEVEL: "debug"
  APPCUES_ID: "{{ localsettings_private.APPCUES_ID }}"
  APPCUES_KEY: "{{ localsettings_private.APPCUES_KEY }}"
  BANK_ACCOUNT_NUMBER: "{{ localsettings_private.BANK_ACCOUNT_NUMBER }}"
  BANK_ADDRESS: { 'first_line': "1 Citizens Drive", 'city': "Riverside", 'region': "RI", 'postal_code': "02915" }
  BANK_NAME: "RBS Citizens N.A."
  BANK_SWIFT_CODE: 'CTZIUS33'
  BANK_ROUTING_NUMBER_ACH: "{{ localsettings_private.BANK_ROUTING_NUMBER_ACH }}"
  BANK_ROUTING_NUMBER_WIRE: "{{ localsettings_private.BANK_ROUTING_NUMBER_WIRE }}"
  BITLY_APIKEY: "{{ localsettings_private.BITLY_APIKEY }}"
  BITLY_LOGIN: "{{ localsettings_private.BITLY_LOGIN }}"
  BOOKKEEPER_CONTACT_EMAILS: "{{ localsettings_private.BOOKKEEPER_CONTACT_EMAILS }}"
  BROKER_URL: 'amqp://{{ secrets.AMQP_USER }}:{{ secrets.AMQP_PASSWORD }}@{{ AMQP_HOST }}:5672/{{ AMQP_NAME }}'
  CELERY_FLOWER_URL: "http://{{ groups.celery.0 }}:5555"
  CELERY_PERIODIC_QUEUE: 'celery_null'
  CELERY_REMINDER_CASE_UPDATE_QUEUE:
  CELERY_REMINDER_RULE_QUEUE:
  CELERY_RESULT_BACKEND: 'djcelery.backends.database:DatabaseBackend'
  COUCH_CACHE_DOCS: True
  COUCH_CACHE_VIEWS: True
  COUCH_PASSWORD: "{{ localsettings_private.COUCH_PASSWORD }}"
  COUCH_USERNAME: "{{ localsettings_private.COUCH_USERNAME }}"
  DEPLOY_MACHINE_NAME: "{{ ansible_hostname }}"
  DROPBOX_APP_NAME: 'CommCareHQFiles - Staging'
  DROPBOX_KEY: "{{ localsettings_private.DROPBOX_KEY }}"
  DROPBOX_SECRET: "{{ localsettings_private.DROPBOX_SECRET }}"
  ELASTICSEARCH_HOST: "{{ groups.elasticsearch.0 }}"
  ELASTICSEARCH_PORT: '9200'
  EMAIL_LOGIN: "{{ localsettings_private.EMAIL_LOGIN }}"
  EMAIL_PASSWORD: "{{ localsettings_private.EMAIL_PASSWORD }}"
  EMAIL_SMTP_HOST: email-smtp.us-east-1.amazonaws.com
  EMAIL_SMTP_PORT: 587
  EMAIL_USE_TLS: yes
  FORMPLAYER_URL: "/formplayer"
  FORMPLAYER_INTERNAL_AUTH_KEY: "{{ localsettings_private.FORMPLAYER_INTERNAL_AUTH_KEY }}"
  GMAPS_API_KEY: "{{ localsettings_private.GMAPS_API_KEY }}"
  GOOGLE_ANALYTICS_API_ID: "{{ localsettings_private.GOOGLE_ANALYTICS_API_ID }}"
  HQ_INSTANCE: 'staging'
  HQ_PRIVATE_KEY: "{{ localsettings_private.HQ_PRIVATE_KEY }}"
  HUBSPOT_API_ID: "{{ localsettings_private.HUBSPOT_API_ID }}"
  HUBSPOT_API_KEY: "{{ localsettings_private.HUBSPOT_API_KEY }}"
  INVOICE_FROM_ADDRESS:
    'name': "Dimagi, Inc."
    'first_line': "585 Massachusetts Ave"
    'city': "Cambridge"
    'region': "MA"
    'postal_code': "02139"
    'country': "US"
    'phone_number': "(617) 649-2214"
    'email': "accounts@dimagi.com"
    'website': "http://www.dimagi.com"
  INVOICE_PREFIX: INC-
  INVOICE_STARTING_NUMBER: 5000
  JAR_KEY_ALIAS: javarosakey
  JAR_KEY_PASS: "{{ localsettings_private.JAR_KEY_PASS }}"
  JAR_STORE_PASS: "{{ localsettings_private.JAR_STORE_PASS }}"
  J2ME_ADDRESS: "{{ J2ME_SITE_HOST }}"
  KAFKA_URL: "{{ groups.kafka.0 }}:9092"
  KISSMETRICS_KEY: "{{ localsettings_private.KISSMETRICS_KEY }}"
  MAPS_LAYERS: "{{ localsettings_private.MAPS_LAYERS }}"
  MIA_THE_DEPLOY_BOT_API: "{{ localsettings_private.MIA_THE_DEPLOY_BOT_API }}"
  OPEN_EXCHANGE_RATES_API_ID: "{{ localsettings_private.OPEN_EXCHANGE_RATES_API_ID }}"
  PILLOWTOP_MACHINE_ID: staging-hqdb0-ubuntu
  PILLOW_RETRY_QUEUE_ENABLED: True
  REDIS_DB: '0'
  REDIS_HOST: "{{ groups.redis.0 }}"
  REDIS_PORT: '6379'
  REMINDERS_QUEUE_ENABLED: False
  SECRET_KEY: "{{ localsettings_private.SECRET_KEY }}"
  SENTRY_PUBLIC_KEY: "{{ localsettings_private.SENTRY_PUBLIC_KEY }}"
  SENTRY_PRIVATE_KEY: "{{ localsettings_private.SENTRY_PRIVATE_KEY }}"
  SENTRY_PROJECT_ID: "{{ localsettings_private.SENTRY_PROJECT_ID }}"
  SENTRY_QUERY_URL: "{{ localsettings_private.SENTRY_QUERY_URL }}"
  SENTRY_API_KEY: "{{ localsettings_private.SENTRY_API_KEY }}"
  SIMPLE_API_KEYS:
  SMS_GATEWAY_PARAMS: "{{ localsettings_private.SMS_GATEWAY_PARAMS }}"
  SMS_GATEWAY_URL: 'http://gw1.promessaging.com/sms.php'
  SMS_QUEUE_ENABLED: True
  STATIC_ROOT:
  STATIC_CDN: 'https://d2f60qxn5rwjxl.cloudfront.net'
  STRIPE_PRIVATE_KEY: "{{ localsettings_private.STRIPE_PRIVATE_KEY }}"
  STRIPE_PUBLIC_KEY: "{{ localsettings_private.STRIPE_PUBLIC_KEY }}"
  TOUCHFORMS_API_PASSWORD: "{{ localsettings_private.TOUCHFORMS_API_PASSWORD }}"
  TOUCHFORMS_API_USER: "{{ localsettings_private.TOUCHFORMS_API_USER }}"
  WS4REDIS_CONNECTION_HOST: "{{ groups.redis.0 }}"
  XFORMS_PLAYER_URL: "http://{{ groups.touchforms.0 }}:4444/"
